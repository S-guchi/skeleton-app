
# ã†ã•ã“ã®å®¶äº‹ãƒãƒ¼ãƒˆ

## æ¦‚è¦

å…±åŒç”Ÿæ´»ã§ã¯ã€å®¶äº‹ã®è² æ‹…ãŒä¸€éƒ¨ã®äººã«åã‚ŠãŒã¡ã§ã€ä¸å…¬å¹³æ„Ÿã‚„ã‚¹ãƒˆãƒ¬ã‚¹ã®åŸå› ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã®ã‚¢ãƒ—ãƒªã¯ã€è¡Œã£ãŸå®¶äº‹ã‚’è¨˜éŒ²ã—ã€å®¶äº‹ã”ã¨ã«ã‚ã‚‰ã‹ã˜ã‚è¨­å®šã—ãŸâ€œå ±é…¬é¡â€ã‚’ã‚‚ã¨ã«è²¢çŒ®åº¦ã‚’å¯è¦–åŒ–ã€‚ãƒ©ãƒ³ã‚­ãƒ³ã‚°æ©Ÿèƒ½ã«ã‚ˆã‚Šå„ãƒ¡ãƒ³ãƒãƒ¼ã®å®¶äº‹ã¸ã®å–ã‚Šçµ„ã¿ã‚’è¦‹ãˆã‚‹åŒ–ã—ã€ã¿ã‚“ãªãŒæ¥½ã—ãå®¶äº‹ã«å‚åŠ ã§ãã‚‹ä»•çµ„ã¿ã§ã™ã€‚

ç©ã¿ä¸Šã’å¼ã®æ£’ã‚°ãƒ©ãƒ•ã§1ä½ã€2ä½ã€3ä½ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ã§ã€ç«¶äº‰å¿ƒã‚’åˆºæ¿€ã—ã¤ã¤ã€å…¨å“¡ã®åŠªåŠ›ã‚’ç§°ãˆã‚‹ç’°å¢ƒã‚’ä½œã‚Šã¾ã™ã€‚æœŸé–“é¸æŠï¼ˆä»Šæ—¥ã€ä»Šé€±ã€ä»Šæœˆã€å…ˆæœˆã€å…¨æœŸé–“ï¼‰ã«ã‚ˆã‚Šã€æ§˜ã€…ãªæ™‚é–“è»¸ã§ã®è²¢çŒ®åº¦ã‚’ç¢ºèªã§ãã¾ã™ã€‚

### ã†ã•ã“ã¨ã¯ï¼Ÿ

èªå°¾ãŒã€Œã†ã•ã€œã€ã®å¯æ„›ã„ã†ã•ãã€‚
ã“ã®ã‚¢ãƒ—ãƒªã®ãƒã‚¹ã‚³ãƒƒãƒˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã§ã™ã€‚
å®¶äº‹ã‚’å ±å‘Šã—ãŸã‚‰ã†ã•ã“ãŒè¤’ã‚ã¦ãã‚Œã¾ã™ï¼

### æ©Ÿèƒ½æ•´ç†

|å„ªå…ˆåº¦|æ©Ÿèƒ½ã‚«ãƒ†ã‚´ãƒª|ä¸»ãªå†…å®¹|
|---|---|---|
|**â˜… å¿…é ˆ**|**ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†**|åŒå±…ãƒ¡ãƒ³ãƒãƒ¼æ‹›å¾…ï¼å‰Šé™¤ã€æ¨©é™ï¼ˆç®¡ç†è€…ãƒ»ä¸€èˆ¬ï¼‰åˆ‡æ›¿|
||**å®¶äº‹é …ç›®ãƒã‚¹ã‚¿ãƒ¼**|å®¶äº‹é …ç›®ã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»ä¸¦ã³æ›¿ãˆï¼å„å®¶äº‹ã®å ±é…¬é¡è¨­å®š|
||**ãƒ¯ãƒ³ã‚¿ãƒƒãƒ—å®¶äº‹è¨˜éŒ²**|ãƒœã‚¿ãƒ³ 1 ã¤ã§å®Œäº†ç™»éŒ²ãƒ»ãƒ¡ãƒ¢æ¬„ã‚ã‚Šï¼æ‹…å½“è€…ã®å¤‰æ›´ã‚‚å¯|
||**ãƒã‚¤ãƒ³ãƒˆãƒ»é‡‘é¡é›†è¨ˆ**|å€‹äººåˆ¥ãƒ»å®¶äº‹åˆ¥ã®ç´¯è¨ˆé‡‘é¡ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºï¼ˆæœŸé–“ãƒ•ã‚£ãƒ«ã‚¿ä»˜ãï¼‰|
||**ãƒ©ãƒ³ã‚­ãƒ³ã‚°æ©Ÿèƒ½**|ç©ã¿ä¸Šã’å¼æ£’ã‚°ãƒ©ãƒ•ã§å®¶äº‹ã®è²¢çŒ®åº¦ã‚’ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤ºï¼æœŸé–“é¸æŠã§æ§˜ã€…ãªæ™‚é–“è»¸ã§ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ç¢ºèª|
|**â˜… ã‚ã‚‹ã¨ä¾¿åˆ©**|**é€šçŸ¥ï¼ˆãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ï¼‰**|1.ã€Œä»Šæ—¥ã¯å®¶äº‹è¨˜éŒ²ã‚¼ãƒ­ã§ã™ã€ç­‰ã®è¨˜éŒ²å¿˜ã‚Œé˜²æ­¢ 2. ãƒ©ãƒ³ã‚­ãƒ³ã‚°æ›´æ–°ã®é€šçŸ¥|
||**ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ / ãƒ¬ãƒãƒ¼ãƒˆ**|å††ã‚°ãƒ©ãƒ•ãƒ»ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã§è²¢çŒ®åº¦ã‚’å¯è¦–åŒ–ï¼æœˆã”ã¨ã®è² æ‹…ç‡æ¨ç§»|
||**ã‚¤ãƒ³ã‚»ãƒ³ãƒ†ã‚£ãƒ–è¨­å®š**|å ±é…¬é¡ã‚’ãƒã‚¤ãƒ³ãƒˆåˆ¶ã«åˆ‡æ›¿ â†’ â€œã”ã»ã†ã³â€äº¤æ›ãªã©ï¼ˆå®Ÿè£…ã¯å¾Œå›ã—å¯ï¼‰|
|**â˜… æ‹¡å¼µå€™è£œ**|**å¤šè¨€èªãƒ»é€šè²¨å¯¾å¿œ**|æµ·å¤–åŒå±…ã«ã‚‚å¯¾å¿œã§ãã‚‹ã‚ˆã†ã«æº–å‚™ã ã‘è¨­è¨ˆã—ã¦ãŠã|

> **ãƒã‚¤ãƒ³ãƒˆ**
>
> - â€œãƒ¯ãƒ³ã‚¿ãƒƒãƒ—ã§å®¶äº‹è¨˜éŒ²â€ã‚’ UX ã®æœ€å„ªå…ˆã«ã€‚
> - é€šçŸ¥ã¯ã€Œã‚„ã£ã¦ãªã„ï¼è¨˜éŒ²ã—ã¦ã„ãªã„ã€çŠ¶æ…‹ã‚’æ¤œçŸ¥ã—ã¦è»½ãä¿ƒã™ã ã‘ã€‚
> - å¤–éƒ¨é€£æºã‚„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ©Ÿèƒ½ã¯ä»Šã¯ã‚¹ã‚³ãƒ¼ãƒ—å¤–ã€‚ã¾ãšã¯ä¸Šè¨˜å¿…é ˆ 5 æ©Ÿèƒ½ï¼‹é€šçŸ¥ãŒ MVP ã§ã™ã€‚

## èªè¨¼ã‚·ã‚¹ãƒ†ãƒ 

ã†ã•ã“ãƒ¯ãƒ¼ã‚¯ã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ°—è»½ã«å§‹ã‚ã‚‰ã‚Œã‚‹ã‚ˆã†**åŒ¿åèªè¨¼**ã‹ã‚‰é–‹å§‹ã—ã€å¿…è¦ã«å¿œã˜ã¦**ãƒ¡ãƒ¼ãƒ«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã§ãã‚‹æ®µéšçš„ãªèªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚

### èªè¨¼ãƒ•ãƒ­ãƒ¼

1. **åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼**: ã‚¢ãƒ—ãƒªã‚’ã™ãã«è©¦ç”¨ã§ãã‚‹
2. **ãƒ¡ãƒ¼ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼**: ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–ã¨ãƒ‡ãƒã‚¤ã‚¹é–“åŒæœŸãŒå¯èƒ½
3. **ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰**: åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ç°¡å˜ã«ãƒ¡ãƒ¼ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç§»è¡Œ

### æŠ€è¡“è©³ç´°

- **SessionContext**: èªè¨¼çŠ¶æ…‹ã®ç®¡ç†ï¼ˆãƒ­ã‚°ã‚¤ãƒ³ãƒ»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆï¼‰
- **UserContext**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®ç®¡ç†ï¼ˆãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ»ä¸–å¸¯æƒ…å ±ï¼‰
- **è²¬å‹™åˆ†é›¢**: èªè¨¼ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã‚’æ˜ç¢ºã«åˆ†é›¢

è©³ç´°ãªèªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã®è¨­è¨ˆã«ã¤ã„ã¦ã¯ã€[AUTHENTICATION.md](./docs/AUTHENTICATION.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

**å¿…è¦ç”»é¢ & ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**

**èªè¨¼é–¢é€£**

- `/dashboard` Â â€” ãƒ›ãƒ¼ãƒ ï¼ˆä»Šæœˆã®å®¶äº‹ãƒã‚¤ãƒ³ãƒˆãƒ»ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ã€Œï¼‹å®¶äº‹è¨˜éŒ²ã€ãƒœã‚¿ãƒ³ï¼‰
- `/record` Â â€” ãƒ¯ãƒ³ã‚¿ãƒƒãƒ—å®¶äº‹è¨˜éŒ²ï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ« or ãƒ•ãƒ«ç”»é¢ï¼‰
- `/history` Â â€” å®¶äº‹å®Ÿç¸¾ãƒªã‚¹ãƒˆï¼ˆæœŸé–“ãƒ•ã‚£ãƒ«ã‚¿ãƒ»ãƒ¡ãƒ¢é–²è¦§ï¼‰
- `/ranking` Â â€” ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤ºï¼ˆç©ã¿ä¸Šã’å¼æ£’ã‚°ãƒ©ãƒ•ãƒ»æœŸé–“é¸æŠãƒ»é †ä½è¡¨ç¤ºï¼‰
- `/chores`

  - `/chores/new` Â â€” å®¶äº‹é …ç›®è¿½åŠ 
  - `/chores/:id/edit` Â â€” å®¶äº‹é …ç›®ç·¨é›†ï¼ˆå ±é…¬é¡å¤‰æ›´ãªã©ï¼‰
- `/members` Â â€” ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†ï¼ˆæ‹›å¾…ãƒ»æ¨©é™åˆ‡æ›¿ï¼‰
- `/settings` Â â€” ã‚¢ãƒ—ãƒªè¨­å®šï¼ˆè¨€èªãƒ»é€šçŸ¥ã‚ªãƒ³ï¼ã‚ªãƒ• ãªã©ï¼‰

> **ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ä¾‹**
>
> - **ãƒœãƒˆãƒ ã‚¿ãƒ–**ï¼šDashboardï½œRecordï½œHistoryï½œRankingï½œSettings
> - `/record` ã¯ã‚¿ãƒ–ä¸­å¤®ã® â€œï¼‹â€ ãƒœã‚¿ãƒ³ã‹ã‚‰ãƒ¢ãƒ¼ãƒ€ãƒ«é·ç§»ã«ã™ã‚‹ã¨UXâ—
>
### ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ã¨å½¹å‰²

| ãƒ†ãƒ¼ãƒ–ãƒ«                   | ç®¡ç†ã™ã‚‹å†…å®¹                          | ä¸»ãªã‚«ãƒ©ãƒ                                                                  |
| ---------------------- | ------------------------------- | --------------------------------------------------------------------- |
| **users**              | ã‚¢ãƒ—ãƒªã‚’åˆ©ç”¨ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åŸºæœ¬æƒ…å ±ã‚’ç®¡ç†            | id / email / display\_name / password\_hash / created\_at             |
| **households**         | â€œä¸–å¸¯â€ã‚„â€œãƒ«ãƒ¼ãƒ ã‚·ã‚§ã‚¢â€ãªã©ã€å…±åŒç”Ÿæ´»ã®å˜ä½ã‚’ç®¡ç†      | id / name / settlement\_day / created\_at                             |
| **household\_members** | ä¸–å¸¯ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã²ã‚‚ä»˜ã‘ãƒ»ãƒ¡ãƒ³ãƒãƒ¼æ¨©é™ã‚’ç®¡ç†          | id / household\_id / user\_id / role / joined\_at                     |
| **chores**             | ä¸–å¸¯ã”ã¨ã®å®¶äº‹é …ç›®ï¼ˆåå‰ãƒ»å ±é…¬é¡ãªã©ï¼‰ã®ãƒã‚¹ã‚¿ãƒ¼ã‚’ç®¡ç†     | id / household\_id / name / reward\_amount / order\_index             |
| **chore\_logs**        | å®Ÿéš›ã«è¡Œã£ãŸå®¶äº‹ã®è¨˜éŒ²ï¼ˆèª°ãŒãƒ»ã„ã¤ãƒ»ã©ã®å®¶äº‹ã‚’è¡Œã£ãŸã‹ï¼‰ã‚’ç®¡ç† | id / household\_id / chore\_id / performed\_by / performed\_at / note |
| **monthly\_rankings**   | æœˆæ¬¡ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ“ãƒ¥ãƒ¼ï¼ˆå®¶äº‹ãƒ­ã‚°ã‹ã‚‰è‡ªå‹•é›†è¨ˆï¼‰          | household\_id / user\_id / user\_name / month / chore\_count / total\_points |
| **weekly\_rankings**    | é€±æ¬¡ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ“ãƒ¥ãƒ¼ï¼ˆå®¶äº‹ãƒ­ã‚°ã‹ã‚‰è‡ªå‹•é›†è¨ˆï¼‰          | household\_id / user\_id / user\_name / week / chore\_count / total\_points  |
| **all\_time\_rankings** | å…¨æœŸé–“ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ“ãƒ¥ãƒ¼ï¼ˆå®¶äº‹ãƒ­ã‚°ã‹ã‚‰è‡ªå‹•é›†è¨ˆï¼‰         | household\_id / user\_id / user\_name / chore\_count / total\_points         |

## build

```
eas build --platform ios
```

### build log

```
eas build --platform ios
The field "cli.appVersionSource" is not set, but it will be required in the future. Learn more
Resolved "production" environment for the build. Learn more
No environment variables with visibility "Plain text" and "Sensitive" found for the "production" environment on EAS.

The field "cli.appVersionSource" is not set, but it will be required in the future. Learn more
âœ” Using remote iOS credentials (Expo server)

If you provide your Apple account credentials we will be able to generate all necessary build credentials and fully validate them.
This is optional, but without Apple account access you will need to provide all the missing values manually and we can only run minimal validation on them.
âœ” Do you want to log in to your Apple account? â€¦ yes

â€º Log in to your Apple Developer account to continue
âœ” Apple ID: â€¦ haraguchi.shoya@gmail.com
â€º Using password for haraguchi.shoya@gmail.com from your local Keychain
  Learn more
âœ” Logged in, verify your Apple account to continue
Two-factor Authentication (6 digit code) is enabled for haraguchi.shoya@gmail.com. Learn more: https://support.apple.com/en-us/HT204915

âœ” How do you want to validate your account? â€¦ device / sms
âœ” Please enter the 6 digit code you received at +81 â€¢â€¢â€¢-â€¢â€¢â€¢â€¢-â€¢â€¢14: â€¦ 766997
âœ” Valid code
âœ” Logged in and verified
â€º Team shoya haraguchi (97JWUTJ996)
â€º Provider shoya haraguchi (127151703)
âœ” Bundle identifier registered com.purotoko.usakowork
âœ” Synced capabilities: Enabled: Push Notifications
âœ” Synced capability identifiers: No updates
âœ” Fetched Apple distribution certificates
âœ” Reuse this distribution certificate?
Cert ID: X54L2VL5TC, Serial number: 41D3356BFF55A71D6AC42F518C97BC1C, Team ID: 97JWUTJ996, Team name: shoya haraguchi (Individual)
    Created: 1 month ago, Updated: 1 month ago,
    Expires: Sun, 10 May 2026 01:01:46 GMT+0900
    ğŸ“² Used by: @purotoko/mobile,@purotoko/mobile â€¦ yes
Using distribution certificate with serial number 41D3356BFF55A71D6AC42F518C97BC1C
âœ” Generate a new Apple Provisioning Profile? â€¦ yes
âœ” Created Apple provisioning profile
âœ” Created provisioning profile

Project Credentials Configuration

Project                   @purotoko/usako-work
Bundle Identifier         com.purotoko.usakowork

App Store Configuration

Distribution Certificate
Serial Number             41D3356BFF55A71D6AC42F518C97BC1C
Expiration Date           Sun, 10 May 2026 01:01:46 GMT+0900
Apple Team                97JWUTJ996 (shoya haraguchi (Individual))
Updated                   1 month ago

Provisioning Profile
Developer Portal ID       294V4374LL
Status                    active
Expiration                Sun, 10 May 2026 01:01:46 GMT+0900
Apple Team                97JWUTJ996 (shoya haraguchi (Individual))
Updated                   1 second ago

All credentials are ready to build @purotoko/usako-work (com.purotoko.usakowork)

âœ” Would you like to set up Push Notifications for your project? â€º Yes
âœ” Generate a new Apple Push Notifications service key? â€¦ yes
âœ” Created Apple push key
âœ” Created push key
âœ” Push Key assigned to usako-work: com.purotoko.usakowork

Compressing project files and uploading to EAS Build. Learn more
âœ” Compressed project files 3s (45.5 MB)
âœ” Uploaded to EAS 2s
âœ” Computed project fingerprint
```


### ç’°å¢ƒæ§‹ç¯‰

#### é–‹ç™º

```
npx supabase link
```

usako-workã‚’é¸æŠ
!Shoya5321

```
npm run db:remote-reset
```

ç’°å¢ƒå¤‰æ•°ã‚’ç™»éŒ²

```
# é–‹ç™ºç”¨
eas env:create --name EXPO_PUBLIC_SUPABASE_URL_DEV --value https://recrgyohfqbqjlogavej.supabase.co --scope project
eas env:create --name EXPO_PUBLIC_SUPABASE_ANON_KEY_DEV --value eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJlY3JneW9oZnFicWpsb2dhdmVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA5Mzc1NjgsImV4cCI6MjA2NjUxMzU2OH0.boxrZwyUYlIfacxWPqMBwID_vVKU23IXSSFyVXgIJLQ --scope project

```

é–‹ç™ºãƒ“ãƒ«ãƒ‰
```
eas build --profile development --platform ios
```

#### æœ¬ç•ª

```
npx supabase link
```

usako-work-prdã‚’é¸æŠ
!Shoya36255321

```
npm run db:remote-reset
```

ç’°å¢ƒå¤‰æ•°ã‚’ç™»éŒ²
```
# æœ¬ç•ªç”¨
eas env:create --name EXPO_PUBLIC_SUPABASE_URL_PROD --value https://tpjuznkomapppqdjburz.supabase.co --scope project
eas env:create --name EXPO_PUBLIC_SUPABASE_ANON_KEY_PROD --value eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRwanV6bmtvbWFwcHBxZGpidXJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE3MTUwODEsImV4cCI6MjA2NzI5MTA4MX0.y5d8w-KUgx71BmRcfvzdpOcNOjMjLY0tvAipBbViJd8 --scope project

```

æœ¬ç•ªãƒ“ãƒ«ãƒ‰

```
npx expo install --check
```
ãªã‚“ã‹ã‚¨ãƒ©ãƒ¼å‡ºãŸã‚‰
```
npx expo install --check

```


```
eas build --platform ios
```

```
eas build --profile production --platform ios --clear-cache
```

æå‡º
```
eas submit --platform ios
```

### å‚è€ƒ

https://zenn.dev/joo_hashi/articles/5a462e39211984
